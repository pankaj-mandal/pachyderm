# Generated by the protocol buffer compiler.  DO NOT EDIT!
# sources: api/identity/identity.proto
# plugin: python-betterproto
from dataclasses import dataclass
from datetime import datetime
from typing import (
    TYPE_CHECKING,
    Dict,
    List,
    Optional,
)

import betterproto
import betterproto.lib.google.protobuf as betterproto_lib_google_protobuf
import grpc
from betterproto.grpc.grpcio_server import ServicerBase


if TYPE_CHECKING:
    import grpc
    from betterproto.grpc.grpclib_client import MetadataLike
    from grpclib.metadata import Deadline


@dataclass(eq=False, repr=False)
class User(betterproto.Message):
    """User represents an Idp user that has authenticated via Oidc"""

    email: str = betterproto.string_field(1)
    last_authenticated: datetime = betterproto.message_field(2)


@dataclass(eq=False, repr=False)
class IdentityServerConfig(betterproto.Message):
    """
    IdentityServerConfig is the configuration for the identity web server. When
    the configuration is changed the web server is reloaded automatically.
    """

    issuer: str = betterproto.string_field(1)
    id_token_expiry: str = betterproto.string_field(2)
    rotation_token_expiry: str = betterproto.string_field(3)


@dataclass(eq=False, repr=False)
class SetIdentityServerConfigRequest(betterproto.Message):
    config: "IdentityServerConfig" = betterproto.message_field(1)


@dataclass(eq=False, repr=False)
class SetIdentityServerConfigResponse(betterproto.Message):
    pass


@dataclass(eq=False, repr=False)
class GetIdentityServerConfigRequest(betterproto.Message):
    pass


@dataclass(eq=False, repr=False)
class GetIdentityServerConfigResponse(betterproto.Message):
    config: "IdentityServerConfig" = betterproto.message_field(1)


@dataclass(eq=False, repr=False)
class IdpConnector(betterproto.Message):
    """IdpConnector represents a connection to an identity provider"""

    id: str = betterproto.string_field(1)
    """ID is the unique identifier for this connector."""

    name: str = betterproto.string_field(2)
    """
    Name is the human-readable identifier for this connector, which will be
    shown to end users when they're authenticating.
    """

    type: str = betterproto.string_field(3)
    """Type is the type of the Idp ex. `saml`, `oidc`, `github`."""

    config_version: int = betterproto.int64_field(4)
    """
    ConfigVersion must be incremented every time a connector is  updated, to
    avoid concurrent updates conflicting.
    """

    json_config: str = betterproto.string_field(5)
    """
    This is left for backwards compatibility, but we want users to use the
    config defined below.
    """

    config: "betterproto_lib_google_protobuf.Struct" = betterproto.message_field(6)
    """
    Config is the configuration for the upstream Idp, which varies based on the
    type. We make the assumption that this is either yaml or JSON.
    """


@dataclass(eq=False, repr=False)
class CreateIdpConnectorRequest(betterproto.Message):
    connector: "IdpConnector" = betterproto.message_field(1)


@dataclass(eq=False, repr=False)
class CreateIdpConnectorResponse(betterproto.Message):
    pass


@dataclass(eq=False, repr=False)
class UpdateIdpConnectorRequest(betterproto.Message):
    connector: "IdpConnector" = betterproto.message_field(1)


@dataclass(eq=False, repr=False)
class UpdateIdpConnectorResponse(betterproto.Message):
    pass


@dataclass(eq=False, repr=False)
class ListIdpConnectorsRequest(betterproto.Message):
    pass


@dataclass(eq=False, repr=False)
class ListIdpConnectorsResponse(betterproto.Message):
    connectors: List["IdpConnector"] = betterproto.message_field(1)


@dataclass(eq=False, repr=False)
class GetIdpConnectorRequest(betterproto.Message):
    id: str = betterproto.string_field(1)


@dataclass(eq=False, repr=False)
class GetIdpConnectorResponse(betterproto.Message):
    connector: "IdpConnector" = betterproto.message_field(1)


@dataclass(eq=False, repr=False)
class DeleteIdpConnectorRequest(betterproto.Message):
    id: str = betterproto.string_field(1)


@dataclass(eq=False, repr=False)
class DeleteIdpConnectorResponse(betterproto.Message):
    pass


@dataclass(eq=False, repr=False)
class OidcClient(betterproto.Message):
    id: str = betterproto.string_field(1)
    redirect_uris: List[str] = betterproto.string_field(2)
    trusted_peers: List[str] = betterproto.string_field(3)
    name: str = betterproto.string_field(4)
    secret: str = betterproto.string_field(5)


@dataclass(eq=False, repr=False)
class CreateOidcClientRequest(betterproto.Message):
    client: "OidcClient" = betterproto.message_field(1)


@dataclass(eq=False, repr=False)
class CreateOidcClientResponse(betterproto.Message):
    client: "OidcClient" = betterproto.message_field(1)


@dataclass(eq=False, repr=False)
class GetOidcClientRequest(betterproto.Message):
    id: str = betterproto.string_field(1)


@dataclass(eq=False, repr=False)
class GetOidcClientResponse(betterproto.Message):
    client: "OidcClient" = betterproto.message_field(1)


@dataclass(eq=False, repr=False)
class ListOidcClientsRequest(betterproto.Message):
    pass


@dataclass(eq=False, repr=False)
class ListOidcClientsResponse(betterproto.Message):
    clients: List["OidcClient"] = betterproto.message_field(1)


@dataclass(eq=False, repr=False)
class UpdateOidcClientRequest(betterproto.Message):
    client: "OidcClient" = betterproto.message_field(1)


@dataclass(eq=False, repr=False)
class UpdateOidcClientResponse(betterproto.Message):
    pass


@dataclass(eq=False, repr=False)
class DeleteOidcClientRequest(betterproto.Message):
    id: str = betterproto.string_field(1)


@dataclass(eq=False, repr=False)
class DeleteOidcClientResponse(betterproto.Message):
    pass


@dataclass(eq=False, repr=False)
class DeleteAllRequest(betterproto.Message):
    pass


@dataclass(eq=False, repr=False)
class DeleteAllResponse(betterproto.Message):
    pass


class ApiStub:
    def __init__(self, channel: "grpc.Channel"):
        self.__rpc_set_identity_server_config = channel.unary_unary(
            "/identity_v2.API/SetIdentityServerConfig",
            request_serializer=SetIdentityServerConfigRequest.SerializeToString,
            response_deserializer=SetIdentityServerConfigResponse.FromString,
        )
        self.__rpc_get_identity_server_config = channel.unary_unary(
            "/identity_v2.API/GetIdentityServerConfig",
            request_serializer=GetIdentityServerConfigRequest.SerializeToString,
            response_deserializer=GetIdentityServerConfigResponse.FromString,
        )
        self.__rpc_create_idp_connector = channel.unary_unary(
            "/identity_v2.API/CreateIdpConnector",
            request_serializer=CreateIdpConnectorRequest.SerializeToString,
            response_deserializer=CreateIdpConnectorResponse.FromString,
        )
        self.__rpc_update_idp_connector = channel.unary_unary(
            "/identity_v2.API/UpdateIdpConnector",
            request_serializer=UpdateIdpConnectorRequest.SerializeToString,
            response_deserializer=UpdateIdpConnectorResponse.FromString,
        )
        self.__rpc_list_idp_connectors = channel.unary_unary(
            "/identity_v2.API/ListIdpConnectors",
            request_serializer=ListIdpConnectorsRequest.SerializeToString,
            response_deserializer=ListIdpConnectorsResponse.FromString,
        )
        self.__rpc_get_idp_connector = channel.unary_unary(
            "/identity_v2.API/GetIdpConnector",
            request_serializer=GetIdpConnectorRequest.SerializeToString,
            response_deserializer=GetIdpConnectorResponse.FromString,
        )
        self.__rpc_delete_idp_connector = channel.unary_unary(
            "/identity_v2.API/DeleteIdpConnector",
            request_serializer=DeleteIdpConnectorRequest.SerializeToString,
            response_deserializer=DeleteIdpConnectorResponse.FromString,
        )
        self.__rpc_create_oidc_client = channel.unary_unary(
            "/identity_v2.API/CreateOidcClient",
            request_serializer=CreateOidcClientRequest.SerializeToString,
            response_deserializer=CreateOidcClientResponse.FromString,
        )
        self.__rpc_update_oidc_client = channel.unary_unary(
            "/identity_v2.API/UpdateOidcClient",
            request_serializer=UpdateOidcClientRequest.SerializeToString,
            response_deserializer=UpdateOidcClientResponse.FromString,
        )
        self.__rpc_get_oidc_client = channel.unary_unary(
            "/identity_v2.API/GetOidcClient",
            request_serializer=GetOidcClientRequest.SerializeToString,
            response_deserializer=GetOidcClientResponse.FromString,
        )
        self.__rpc_list_oidc_clients = channel.unary_unary(
            "/identity_v2.API/ListOidcClients",
            request_serializer=ListOidcClientsRequest.SerializeToString,
            response_deserializer=ListOidcClientsResponse.FromString,
        )
        self.__rpc_delete_oidc_client = channel.unary_unary(
            "/identity_v2.API/DeleteOidcClient",
            request_serializer=DeleteOidcClientRequest.SerializeToString,
            response_deserializer=DeleteOidcClientResponse.FromString,
        )
        self.__rpc_delete_all = channel.unary_unary(
            "/identity_v2.API/DeleteAll",
            request_serializer=DeleteAllRequest.SerializeToString,
            response_deserializer=DeleteAllResponse.FromString,
        )

    def set_identity_server_config(
        self, set_identity_server_config_request: "SetIdentityServerConfigRequest"
    ) -> "SetIdentityServerConfigResponse":
        return self.__rpc_set_identity_server_config(set_identity_server_config_request)

    def get_identity_server_config(
        self, get_identity_server_config_request: "GetIdentityServerConfigRequest"
    ) -> "GetIdentityServerConfigResponse":
        return self.__rpc_get_identity_server_config(get_identity_server_config_request)

    def create_idp_connector(
        self, create_idp_connector_request: "CreateIdpConnectorRequest"
    ) -> "CreateIdpConnectorResponse":
        return self.__rpc_create_idp_connector(create_idp_connector_request)

    def update_idp_connector(
        self, update_idp_connector_request: "UpdateIdpConnectorRequest"
    ) -> "UpdateIdpConnectorResponse":
        return self.__rpc_update_idp_connector(update_idp_connector_request)

    def list_idp_connectors(
        self, list_idp_connectors_request: "ListIdpConnectorsRequest"
    ) -> "ListIdpConnectorsResponse":
        return self.__rpc_list_idp_connectors(list_idp_connectors_request)

    def get_idp_connector(
        self, get_idp_connector_request: "GetIdpConnectorRequest"
    ) -> "GetIdpConnectorResponse":
        return self.__rpc_get_idp_connector(get_idp_connector_request)

    def delete_idp_connector(
        self, delete_idp_connector_request: "DeleteIdpConnectorRequest"
    ) -> "DeleteIdpConnectorResponse":
        return self.__rpc_delete_idp_connector(delete_idp_connector_request)

    def create_oidc_client(
        self, create_oidc_client_request: "CreateOidcClientRequest"
    ) -> "CreateOidcClientResponse":
        return self.__rpc_create_oidc_client(create_oidc_client_request)

    def update_oidc_client(
        self, update_oidc_client_request: "UpdateOidcClientRequest"
    ) -> "UpdateOidcClientResponse":
        return self.__rpc_update_oidc_client(update_oidc_client_request)

    def get_oidc_client(
        self, get_oidc_client_request: "GetOidcClientRequest"
    ) -> "GetOidcClientResponse":
        return self.__rpc_get_oidc_client(get_oidc_client_request)

    def list_oidc_clients(
        self, list_oidc_clients_request: "ListOidcClientsRequest"
    ) -> "ListOidcClientsResponse":
        return self.__rpc_list_oidc_clients(list_oidc_clients_request)

    def delete_oidc_client(
        self, delete_oidc_client_request: "DeleteOidcClientRequest"
    ) -> "DeleteOidcClientResponse":
        return self.__rpc_delete_oidc_client(delete_oidc_client_request)

    def delete_all(self, delete_all_request: "DeleteAllRequest") -> "DeleteAllResponse":
        return self.__rpc_delete_all(delete_all_request)


class ApiBase(ServicerBase):
    def set_identity_server_config(
        self, request: "SetIdentityServerConfigRequest", context: "grpc.ServicerContext"
    ) -> "SetIdentityServerConfigResponse":
        context.set_code(grpc.StatusCode.UNIMPLEMENTED)
        context.set_details("Method not implemented!")
        raise NotImplementedError("Method not implemented!")

    def get_identity_server_config(
        self, request: "GetIdentityServerConfigRequest", context: "grpc.ServicerContext"
    ) -> "GetIdentityServerConfigResponse":
        context.set_code(grpc.StatusCode.UNIMPLEMENTED)
        context.set_details("Method not implemented!")
        raise NotImplementedError("Method not implemented!")

    def create_idp_connector(
        self, request: "CreateIdpConnectorRequest", context: "grpc.ServicerContext"
    ) -> "CreateIdpConnectorResponse":
        context.set_code(grpc.StatusCode.UNIMPLEMENTED)
        context.set_details("Method not implemented!")
        raise NotImplementedError("Method not implemented!")

    def update_idp_connector(
        self, request: "UpdateIdpConnectorRequest", context: "grpc.ServicerContext"
    ) -> "UpdateIdpConnectorResponse":
        context.set_code(grpc.StatusCode.UNIMPLEMENTED)
        context.set_details("Method not implemented!")
        raise NotImplementedError("Method not implemented!")

    def list_idp_connectors(
        self, request: "ListIdpConnectorsRequest", context: "grpc.ServicerContext"
    ) -> "ListIdpConnectorsResponse":
        context.set_code(grpc.StatusCode.UNIMPLEMENTED)
        context.set_details("Method not implemented!")
        raise NotImplementedError("Method not implemented!")

    def get_idp_connector(
        self, request: "GetIdpConnectorRequest", context: "grpc.ServicerContext"
    ) -> "GetIdpConnectorResponse":
        context.set_code(grpc.StatusCode.UNIMPLEMENTED)
        context.set_details("Method not implemented!")
        raise NotImplementedError("Method not implemented!")

    def delete_idp_connector(
        self, request: "DeleteIdpConnectorRequest", context: "grpc.ServicerContext"
    ) -> "DeleteIdpConnectorResponse":
        context.set_code(grpc.StatusCode.UNIMPLEMENTED)
        context.set_details("Method not implemented!")
        raise NotImplementedError("Method not implemented!")

    def create_oidc_client(
        self, request: "CreateOidcClientRequest", context: "grpc.ServicerContext"
    ) -> "CreateOidcClientResponse":
        context.set_code(grpc.StatusCode.UNIMPLEMENTED)
        context.set_details("Method not implemented!")
        raise NotImplementedError("Method not implemented!")

    def update_oidc_client(
        self, request: "UpdateOidcClientRequest", context: "grpc.ServicerContext"
    ) -> "UpdateOidcClientResponse":
        context.set_code(grpc.StatusCode.UNIMPLEMENTED)
        context.set_details("Method not implemented!")
        raise NotImplementedError("Method not implemented!")

    def get_oidc_client(
        self, request: "GetOidcClientRequest", context: "grpc.ServicerContext"
    ) -> "GetOidcClientResponse":
        context.set_code(grpc.StatusCode.UNIMPLEMENTED)
        context.set_details("Method not implemented!")
        raise NotImplementedError("Method not implemented!")

    def list_oidc_clients(
        self, request: "ListOidcClientsRequest", context: "grpc.ServicerContext"
    ) -> "ListOidcClientsResponse":
        context.set_code(grpc.StatusCode.UNIMPLEMENTED)
        context.set_details("Method not implemented!")
        raise NotImplementedError("Method not implemented!")

    def delete_oidc_client(
        self, request: "DeleteOidcClientRequest", context: "grpc.ServicerContext"
    ) -> "DeleteOidcClientResponse":
        context.set_code(grpc.StatusCode.UNIMPLEMENTED)
        context.set_details("Method not implemented!")
        raise NotImplementedError("Method not implemented!")

    def delete_all(
        self, request: "DeleteAllRequest", context: "grpc.ServicerContext"
    ) -> "DeleteAllResponse":
        context.set_code(grpc.StatusCode.UNIMPLEMENTED)
        context.set_details("Method not implemented!")
        raise NotImplementedError("Method not implemented!")

    __proto_path__ = "identity_v2.API"

    @property
    def __rpc_methods__(self):
        return {
            "SetIdentityServerConfig": grpc.unary_unary_rpc_method_handler(
                self.set_identity_server_config,
                request_deserializer=SetIdentityServerConfigRequest.FromString,
                response_serializer=SetIdentityServerConfigRequest.SerializeToString,
            ),
            "GetIdentityServerConfig": grpc.unary_unary_rpc_method_handler(
                self.get_identity_server_config,
                request_deserializer=GetIdentityServerConfigRequest.FromString,
                response_serializer=GetIdentityServerConfigRequest.SerializeToString,
            ),
            "CreateIdpConnector": grpc.unary_unary_rpc_method_handler(
                self.create_idp_connector,
                request_deserializer=CreateIdpConnectorRequest.FromString,
                response_serializer=CreateIdpConnectorRequest.SerializeToString,
            ),
            "UpdateIdpConnector": grpc.unary_unary_rpc_method_handler(
                self.update_idp_connector,
                request_deserializer=UpdateIdpConnectorRequest.FromString,
                response_serializer=UpdateIdpConnectorRequest.SerializeToString,
            ),
            "ListIdpConnectors": grpc.unary_unary_rpc_method_handler(
                self.list_idp_connectors,
                request_deserializer=ListIdpConnectorsRequest.FromString,
                response_serializer=ListIdpConnectorsRequest.SerializeToString,
            ),
            "GetIdpConnector": grpc.unary_unary_rpc_method_handler(
                self.get_idp_connector,
                request_deserializer=GetIdpConnectorRequest.FromString,
                response_serializer=GetIdpConnectorRequest.SerializeToString,
            ),
            "DeleteIdpConnector": grpc.unary_unary_rpc_method_handler(
                self.delete_idp_connector,
                request_deserializer=DeleteIdpConnectorRequest.FromString,
                response_serializer=DeleteIdpConnectorRequest.SerializeToString,
            ),
            "CreateOidcClient": grpc.unary_unary_rpc_method_handler(
                self.create_oidc_client,
                request_deserializer=CreateOidcClientRequest.FromString,
                response_serializer=CreateOidcClientRequest.SerializeToString,
            ),
            "UpdateOidcClient": grpc.unary_unary_rpc_method_handler(
                self.update_oidc_client,
                request_deserializer=UpdateOidcClientRequest.FromString,
                response_serializer=UpdateOidcClientRequest.SerializeToString,
            ),
            "GetOidcClient": grpc.unary_unary_rpc_method_handler(
                self.get_oidc_client,
                request_deserializer=GetOidcClientRequest.FromString,
                response_serializer=GetOidcClientRequest.SerializeToString,
            ),
            "ListOidcClients": grpc.unary_unary_rpc_method_handler(
                self.list_oidc_clients,
                request_deserializer=ListOidcClientsRequest.FromString,
                response_serializer=ListOidcClientsRequest.SerializeToString,
            ),
            "DeleteOidcClient": grpc.unary_unary_rpc_method_handler(
                self.delete_oidc_client,
                request_deserializer=DeleteOidcClientRequest.FromString,
                response_serializer=DeleteOidcClientRequest.SerializeToString,
            ),
            "DeleteAll": grpc.unary_unary_rpc_method_handler(
                self.delete_all,
                request_deserializer=DeleteAllRequest.FromString,
                response_serializer=DeleteAllRequest.SerializeToString,
            ),
        }
